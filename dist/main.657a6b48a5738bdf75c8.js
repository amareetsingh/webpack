"use strict";(self.webpackChunklogin_auth=self.webpackChunklogin_auth||[]).push([[9345],{1305:function(e,t,n){var r=n(4942),a=n(5861),s=n(885),o=n(4687),l=n.n(o),c=n(1436),i=n(7625),m=n(7294),u=n(8914),d=n.n(u),p=n(3314),g=n(1468),f=n(6687),b=n(1020),E=n(3489);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.nPurpose,n=e.lPurposeId,r=void 0===n?0:n,o=(e.label,e.labelShow),u=void 0===o||o,v=e.setCurrentObject,S=e.setCurrentData,y=void 0===S?{}:S,x=e.infoIcon,P=void 0!==x&&x,w=e.handleImageUpdate,Z=(0,m.useState)(!1),k=(0,s.Z)(Z,2),_=k[0],N=k[1],C=(0,m.useState)(!1),O=(0,s.Z)(C,2),I=O[0],D=O[1],z=(0,m.useState)(!1),j=(0,s.Z)(z,2),A=j[0],R=j[1],L=(0,m.useState)(!1),T=(0,s.Z)(L,2),F=T[0],U=T[1],B=function(){var e=(0,a.Z)(l().mark((function e(n){var a,s,o,c,i,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(a=n.target.files[0])&&""!=a.name){e.next=3;break}return e.abrupt("return",!1);case 3:if(s=a.name,!0!==_){e.next=6;break}return e.abrupt("return",!1);case 6:return D(!0),N(!0),e.next=10,g.xj.post("Images/save",{szExtension:s.split(".").pop(),nPurpose:t,lPurposeId:r,lUserId:0});case 10:if(!1===(o=e.sent)||!1===o.status){e.next=29;break}if(200!==o.data.data.statusCode){e.next=21;break}return c=o.data.data.result,103===t&&((i=JSON.parse(localStorage.getItem("currentUser"))).oUser.m_oMedia=c.cStMedia,localStorage.setItem("currentUser",JSON.stringify(i))),m=new File([a],c.m_szFileName,{type:"image/jpg"}),e.next=18,G(c.m_szSignedURL,m,c);case 18:w&&w(r,c.cStMedia),e.next=27;break;case 21:if(U(!0),401!==o.response.status||!localStorage.getItem("currentUser")){e.next=27;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",e.abrupt("return");case 27:e.next=30;break;case 29:U(!0);case 30:N(!1);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,a.Z)(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var s=new XMLHttpRequest;s.open("PUT",t,!0),s.setRequestHeader("Content-Type",""),s.onload=function(){200===s.status?(D(!1),v&&v(h(h({},y),{},{m_oMedia:r.cStMedia})),R(!0),e()):(U(!0),D(!1),a())},s.onerror=function(){D(!1),U(!0),a()},D(!1),s.send(n)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return m.createElement(m.Fragment,null,m.createElement(f.Z,{showtoast:A,toggleShowToast:function(){return R(!A)},bgclass:"success",status:"Success",message:"Image updated Successfully!!",toasticon:c.f8k}),m.createElement(f.Z,{showtoast:F,toggleShowToast:function(){return U(!F)},bgclass:"danger",status:"Error",message:"Image Upadtion Failed!!",toasticon:c.gPx}),m.createElement(p.Z.Group,{className:d().imageUploader},u&&m.createElement(p.Z.Label,null,"Upload Image",P&&["top"].map((function(e){return m.createElement(b.Z,{key:e,placement:e,overlay:m.createElement(E.Z,{id:"tooltip-".concat(e)},"For banner style backgrounds, suggested height is around 400 pixels.")},m.createElement("span",{className:d().infoIcon}," ",m.createElement(i.G,{icon:c.YHc,alt:"info"})," "))}))),m.createElement(p.Z.Control,{type:"file",onChange:B}),I&&m.createElement(i.G,{className:d().loaderIconup,icon:c.LM3,spin:!0})))}},5317:function(e,t,n){var r=n(7294),a=n(9041),s=n.n(a),o=n(1468),l=n(7856),c=n.n(l);t.Z=function(e){return r.createElement(r.Fragment,null,r.createElement("br",null),r.createElement("h4",{style:{textAlign:"center"}},e.band.m_szRatingScaleName),o.xj.awsBucketImage(e.band.m_oMedia)&&r.createElement("div",{style:{paddingTop:"20px"},className:s().ratingImage},r.createElement("img",{src:o.xj.awsBucketImage(e.band.m_oMedia),alt:e.band.m_szRatingScaleName})),r.createElement("br",null),r.createElement("div",{className:s().textDescription,dangerouslySetInnerHTML:{__html:c().sanitize(e.band.m_szRatingScaleDesc)}}))}},5238:function(e,t,n){var r=n(7294),a=n(5074);function s(e){var t=e.classes,n=e.datas,s=e.height,o=e.handleTextData,l=e.editorKey,c=void 0===l?0:l;return r.createElement("div",{className:t},r.createElement(a.M,{apiKey:"iitei9q0p4kky42p2qx2govhdpdyvc8nezf5ejww3hutmqmp",key:c,initialValue:""!==n&&null!==n&&!1!==n?n+"":"",init:{height:s,menubar:!1,plugins:"powerpaste casechange tinydrive searchreplace autolink advcode visualblocks visualchars fullscreen link media mediaembed codesample advlist lists checklist wordcount tinymcespellchecker a11ychecker mentions emoticons",toolbar:"undo redo |FontSize| bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify |  numlist bullist checklist | forecolor backcolor casechange | pagebreak | charmap emoticons | media link | a11ycheck ltr rtl | fullscreen"},onChange:function(e){o(e.target.getContent())}}))}s.defaultProps={height:300},t.Z=s},1981:function(e,t,n){var r=n(5671),a=n(3144),s=n(7326),o=n(136),l=n(7121),c=n(1120),i=n(4942),m=(n(1179),n(8914),n(7294)),u=n(9941),d=n(3565);var p=function(e){(0,o.Z)(g,e);var t,n,p=(t=g,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function g(){var e;(0,r.Z)(this,g);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=p.call.apply(p,[this].concat(n)),(0,i.Z)((0,s.Z)(e),"state",{displayColorPicker:!1,color:{r:"241",g:"112",b:"19",a:"1"},hex:""}),(0,i.Z)((0,s.Z)(e),"handleClick",(function(){e.setState({displayColorPicker:!e.state.displayColorPicker})})),(0,i.Z)((0,s.Z)(e),"handleClose",(function(){e.setState({displayColorPicker:!1})})),(0,i.Z)((0,s.Z)(e),"handleChange",(function(t){var n=t.rgb;e.setState({color:n},(function(){e.props.setSelectedColor("rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(n.a,")"))}))})),e}return(0,a.Z)(g,[{key:"componentDidMount",value:function(){if(this.props.selectedColor&&this.props.selectedColor.includes("rgba")){var e=this.props.selectedColor.replace("rgba(","").replace(")","").split(",");this.setState({color:{r:e[0],g:e[1],b:e[2],a:parseFloat(e[3])}})}}},{key:"render",value:function(){var e=(0,u.ZP)({default:{color:{width:"150px",height:"30px",borderRadius:"2px",background:this.props.selectedColor?this.props.selectedColor:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,", ").concat(this.state.color.a,")")},swatch:{padding:"0px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return m.createElement("div",null,m.createElement("div",{style:e.swatch,onClick:this.handleClick},m.createElement("div",{style:e.color})),this.state.displayColorPicker?m.createElement("div",{style:e.popover},m.createElement("div",{style:e.cover,onClick:this.handleClose}),m.createElement(d.xS,{color:this.state.color,onChange:this.handleChange})):null)}}]),g}(m.Component);t.Z=p},6104:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(5861),a=n(885),s=n(4687),o=n.n(s),l=n(7294),c=n(2236),i=n.n(c),m=n(2939),u=n(5977),d=n(4942),p=n(5005),g=n(3314),f=n(5238);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.editorData,n=void 0===t?"":t,r=e.errors,a=e.formData,s=e.setFormData,o=e.setOpen,c=e.handleAdd,m=e.isCreate,u=void 0===m||m;return l.createElement(l.Fragment,null,l.createElement(g.Z,null,l.createElement(g.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},l.createElement(g.Z.Label,null,"Dimension Name (about 12 characters)"),l.createElement(g.Z.Control,{as:"textarea",onChange:function(e){return s(E(E({},a),{},{szDimName:e.target.value}))},value:a.szDimName}),r&&r.hasOwnProperty("szDimName")&&l.createElement("p",{className:"error errcont"},"Please fill required field!")),l.createElement(g.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},l.createElement(g.Z.Label,null,"Tagline (about 3-5 words)"),l.createElement(g.Z.Control,{as:"textarea",onChange:function(e){return s(E(E({},a),{},{szDimTagLine:e.target.value}))},value:a.szDimTagLine})),l.createElement(g.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},l.createElement(g.Z.Label,null,"Description:"),l.createElement(f.Z,{datas:void 0!==n&&n+"",classes:"dimDescription",formData:a,handleTextData:function(e){var t=E({},a);t.szDimDesc=e.toString(),t&&""!==t.szDimName&&s(t)},dataKey:"szDimDesc"})),l.createElement(p.Z,{className:i().btn_skyblue,onClick:c},"  ",!0===u?"Add":"Update"," "),l.createElement(p.Z,{className:i().btn_dimclose,onClick:function(e){return o(!1)}},"  Cancel ")))},h=n(1468),S=n(6687),y=n(6912),x=n(1436);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t=(0,u.useParams)(),n=(0,l.useState)(!1),s=(0,a.Z)(n,2),c=s[0],m=s[1],d=(0,l.useState)(!1),b=(0,a.Z)(d,2),E=b[0],v=b[1],y=(0,l.useState)(!1),P=(0,a.Z)(y,2),Z=P[0],k=P[1],_={assessmentId:t.id,lDimensionId:e.m_lDimensionId,lRangeId:e.id,startScore:e.m_dStartScore||"",endScore:e.m_dEndScore||"",feedbackText:e.m_szFeedbackText},N=(0,l.useState)(_),C=(0,a.Z)(N,2),O=C[0],I=C[1],D=function(){var t=(0,r.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==c){t.next=2;break}return t.abrupt("return",!1);case 2:return m(!0),e.setLoader(!0),""===O.startScore&&(O.startScore=0),""===O.endScore&&(O.endScore=0),t.next=8,h.xj.post("Dimensions/saveFeedbackRange",O);case 8:if(!1===(n=t.sent)||!1===n.status){t.next=17;break}e.getAllDim(),v(!0),0===e.id&&I(_),O.feedbackText="",e.handleFeedbackOpen(!1),t.next=23;break;case 17:if(k(!0),!(n.error&&n.error.response&&401===n.error.response.status&&localStorage.getItem("currentUser"))){t.next=23;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 23:m(!1),e.setLoader(!1);case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l.createElement(l.Fragment,null,l.createElement(g.Z,null,l.createElement(g.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},"For scores greater than",l.createElement(g.Z.Control,{type:"number",placeholder:"0",value:O.startScore,onChange:function(e){return I(w(w({},O),{},{startScore:e.target.value}))}}),"Score less than or equal to:",l.createElement(g.Z.Control,{type:"number",placeholder:"0",value:O.endScore,onChange:function(e){return I(w(w({},O),{},{endScore:e.target.value}))}})),l.createElement(g.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},l.createElement(f.Z,{datas:void 0!==e.m_szFeedbackText&&e.m_szFeedbackText+"",classes:"feedbackDescription",formData:O,handleTextData:function(e){var t=w({},O);t.feedbackText=e.toString(),t&&""!==t.assessmentType&&I(t)}})),l.createElement("div",{className:i().feedbackButtongroup},l.createElement(p.Z,{className:i().btn_skyblue,onClick:D},"Save"),l.createElement(p.Z,{className:i().btn_cancel,onClick:function(){e.handleFeedbackOpen(!1)}},"Cancel"))),l.createElement(S.Z,{showtoast:E,toggleShowToast:function(){return v(!E)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:x.f8k}),l.createElement(S.Z,{showtoast:Z,toggleShowToast:function(){return k(!Z)},bgclass:"danger",status:"Error",message:"Updation Failed!!",toasticon:x.gPx}))},k=n(7625),_=function(e){var t=(0,l.useState)(!1),n=(0,a.Z)(t,2),s=n[0],c=n[1],m=(0,l.useState)(!1),u=(0,a.Z)(m,2),d=u[0],g=u[1],f=(0,l.useState)(!1),b=(0,a.Z)(f,2),E=b[0],v=b[1],P=function(){var t=(0,r.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setLoader(!0),n={assessmentId:e.assessmentId,lDimensionId:e.m_lDimensionId,lRangeId:e.data.m_lFeedBackTextId,startScore:0,endScore:0,feedbackText:"string"},t.next=4,h.xj.post("Dimensions/removeFeedbackRange",n);case 4:!0===t.sent.status&&(e.getAllDim(),v(!0),g(!1)),e.setLoader(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l.createElement(l.Fragment,null,l.createElement("div",{className:i().scorelistDimensions},l.createElement("div",{className:i().headerscorelistDimensions},l.createElement("h2",null,"For scores greater than",l.createElement("span",{className:i().greaterthenzero}," ",e.data.m_dStartScore," "),"and up to",l.createElement("span",{className:i().scoreamountmax}," ",e.data.m_dEndScore," ")),l.createElement("div",null,l.createElement("span",{className:i().btn_skyblue,onClick:function(){c(!s)}},l.createElement(k.G,{icon:x.Xcf})," "),l.createElement("span",{className:i().btn_remov,onClick:function(){g(!0)}},l.createElement(k.G,{icon:x.$aW})))),l.createElement("div",{className:i().feedbackdetal,dangerouslySetInnerHTML:{__html:e.data.m_szFeedbackText}}),s&&l.createElement("div",{className:i().scorelistDimensions},l.createElement("div",{className:i().addDimensionScore},l.createElement(Z,{getAllDim:e.getAllDim,m_lDimensionId:e.m_lDimensionId,id:e.data.m_lFeedBackTextId,m_dStartScore:e.data.m_dStartScore,m_dEndScore:e.data.m_dEndScore,m_szFeedbackText:e.data.m_szFeedbackText,setLoader:e.setLoader,handleFeedbackOpen:function(){c(!1)}})))),l.createElement(S.Z,{showtoast:E,toggleShowToast:function(){return v(!E)},bgclass:"success",status:"Success",message:"Deleted Successfully!!",toasticon:x.f8k}),l.createElement(y.Z,{show:d,onHide:function(){return g(!1)}},l.createElement(y.Z.Body,{className:i().textcenter},l.createElement("div",{className:i().modelbody_deletepopup},l.createElement("h2",null,"Are you sure?"),l.createElement("p",null),l.createElement("div",{className:i().modelbody_button_main},l.createElement(p.Z,{variant:"light",onClick:function(){return g(!1)}},"Close"),l.createElement(p.Z,{variant:"danger",onClick:function(){P()}},"Delete"))))))};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(7312);var O=function(e){var t=e.getAllDim,n=e.obj,s=e.formData,c=e.setFormData,d=e.setLoader,f=e.setCurrentAssesment,b=e.currentAssesment,E=(0,l.useState)(!1),P=(0,a.Z)(E,2),w=P[0],N=P[1],O=(0,l.useState)(!1),I=(0,a.Z)(O,2),D=I[0],z=I[1],j=(0,l.useState)({status:!1,dimId:0}),A=(0,a.Z)(j,2),R=A[0],L=A[1],T=(0,l.useState)(!1),F=(0,a.Z)(T,2),U=F[0],B=F[1],G=(0,u.useParams)(),M=(0,l.useState)(!1),V=(0,a.Z)(M,2),q=V[0],H=V[1],K=(0,l.useState)(!1),Y=(0,a.Z)(K,2),J=Y[0],Q=Y[1],W=(0,l.useState)(!1),X=(0,a.Z)(W,2),$=X[0],ee=X[1],te=(0,l.useState)({}),ne=(0,a.Z)(te,2),re=ne[0],ae=ne[1],se=function(){var e=(0,r.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.xj.validateError({szDimName:s.szDimName}),!(Object.keys(t).filter((function(e){return!0===t[e]})).length>0)){e.next=6;break}return ae(t),e.abrupt("return");case 6:ae({});case 7:if(!0!==q){e.next=9;break}return e.abrupt("return",!1);case 9:return H(!0),d(!0),e.next=13,h.xj.post("Dimensions/save",s);case 13:if(!1===(r=e.sent)||!1===r.status){e.next=22;break}f(C(C({},b),{},{m_dictDimensions:JSON.parse(r.data.data.result)})),Q(!0),n.m_szDimensionName=s.szDimName,n.m_szDimensionDesc=s.szDimDesc,n.m_szDimensionTagLine=s.szDimTagLine,e.next=28;break;case 22:if(ee(!0),!(r.error&&r.error.response&&401===r.error.response.status&&localStorage.getItem("currentUser"))){e.next=28;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",e.abrupt("return");case 28:H(!1),d(!1);case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,r.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==q){e.next=2;break}return e.abrupt("return",!1);case 2:return H(!0),d(!0),e.next=6,h.xj.post("Dimensions/removeDimensions",{lAssessmentId:G.id,lDimensionId:R.dimId});case 6:if(!1===(n=e.sent)||!1===n.status){e.next=13;break}t(),N(!1),Q(!0),e.next=19;break;case 13:if(ee(!0),!(n.error&&n.error.response&&401===n.error.response.status&&localStorage.getItem("currentUser"))){e.next=19;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",e.abrupt("return");case 19:H(!1),d(!1),L({status:!1,dimId:0});case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.createElement(l.Fragment,null,l.createElement("div",{className:i().mianboxheaderratingbands1},l.createElement("h4",null,l.createElement("span",{className:i().taglineheading},n.m_szDimensionName)),l.createElement("div",{className:i().rightsideeditremove},l.createElement("span",{className:i().btn_edit,onClick:function(){return function(){z(!1);var e={assessmentId:G.id,lDimensionId:n.m_lDimensionId,szDimName:n.m_szDimensionName,szDimDesc:n.m_szDimensionDesc,szDimTagLine:n.m_szDimensionTagLine};c(e),N(!w)}()},"aria-controls":"example-collapse-text","aria-expanded":w}," ",l.createElement(k.G,{icon:x.Xcf})," ",l.createElement("span",{className:!0===w?"rotate":"norotate"})),l.createElement("span",{className:i().btn_remov,onClick:function(){L({status:!0,dimId:n.m_lDimensionId})}}," ",l.createElement(k.G,{icon:x.$aW})," "),l.createElement("span",{className:i().btn_lightblue,onClick:function(){z(!D),N(!1)},"aria-controls":"example-collapse-text","aria-expanded":D},"Feedback Text ",l.createElement(k.G,{icon:x.ptq,size:"sm",className:!0===D?"rotate":"norotate"})))),l.createElement("div",{className:i().collapseiinner},l.createElement(m.Z,{in:w},l.createElement("div",{id:"example-collapse-text",className:i().editDimensions},l.createElement("div",{className:i().mianboxinnerbodyratingbands},l.createElement(v,{editorData:n.m_szDimensionDesc,errors:re,formData:s,setFormData:c,setOpen:N,handleAdd:se,isCreate:!1})))),l.createElement(m.Z,{in:D},l.createElement("div",{id:"example-collapse-text",className:i().editDimensions},l.createElement("div",{className:i().mianboxinnerbodyratingbands},l.createElement("div",{className:i().feedbackcollaps},l.createElement("p",null,"You can configure feedback or advice to be shown to users based on their scores for each dimension. After you specify the score ranges and texts below, choose the option (under 'Options') to show Feedback by dimension instead of Feedback per question"),l.createElement("div",{className:i().headerfeedbackcoppalse},l.createElement("h2",null,"Feedback or Advice Based on Dimension Score"),!1===U&&l.createElement("span",{className:i().btn_skyblue,onClick:function(){return B(!U)}},"Create New")),U&&l.createElement("div",{className:i().scorelistDimensions},l.createElement("div",{className:i().addDimensionScore},l.createElement(Z,{getAllDim:t,m_lDimensionId:n.m_lDimensionId,id:0,setLoader:d,handleFeedbackOpen:B}))),n&&n.m_listFeedbackTexts.map((function(e,r){return l.createElement(_,{assessmentId:G.id,getAllDim:t,m_lDimensionId:n.m_lDimensionId,key:r,data:e,setLoader:d})}))))))),l.createElement(S.Z,{showtoast:J,toggleShowToast:function(){return Q(!J)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:x.f8k}),l.createElement(S.Z,{showtoast:$,toggleShowToast:function(){return ee(!$)},bgclass:"danger",status:"Error",message:"Updation Failed!!",toasticon:x.gPx}),l.createElement(y.Z,{show:R.status,onHide:function(){return L({status:!1,dimId:0})},className:i().modalZapierTemplete},l.createElement(g.Z,{method:"post"},l.createElement("div",{className:i().modalZapierBody},l.createElement("h2",null,"Are you sure? "),l.createElement("div",{className:i().modelbody_button_main},l.createElement(p.Z,{className:i().closebtn,type:"button",onClick:function(){return L({status:!1,dimId:0})}}," Cancel"),l.createElement(p.Z,{variant:"danger",type:"button",onClick:oe},"Confirm"))))))},I=function(e){var t=(0,l.useState)(!1),n=(0,a.Z)(t,1)[0],s=(0,l.useState)({}),c=(0,a.Z)(s,2),d=c[0],p=c[1],g=(0,l.useState)(!1),f=(0,a.Z)(g,2),b=f[0],E=f[1],y=(0,l.useState)([]),P=(0,a.Z)(y,2),w=P[0],Z=P[1],k=(0,l.useState)(!1),_=(0,a.Z)(k,2),N=_[0],C=_[1],I=(0,l.useState)("Some error occurs!"),D=(0,a.Z)(I,2),z=D[0],j=D[1],A=(0,l.useState)(!1),R=(0,a.Z)(A,2),L=R[0],T=R[1],F=(0,l.useState)(!1),U=(0,a.Z)(F,2),B=U[0],G=U[1],M=(0,u.useParams)(),V={assessmentId:M.id,lDimensionId:0,szDimName:"",szDimDesc:"",szDimTagLine:""},q=(0,l.useState)(V),H=(0,a.Z)(q,2),K=H[0],Y=H[1],J=function(){var t=(0,r.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==e.currentAssesment&&e.currentAssesment.m_dictDimensions&&(n=e.currentAssesment.m_dictDimensions,Z(Object.values(n)));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=(0,r.Z)(o().mark((function t(){var n,r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=h.xj.validateError({szDimName:K.szDimName}),!(Object.keys(n).filter((function(e){return!0===n[e]})).length>0)){t.next=6;break}return p(n),t.abrupt("return");case 6:p({});case 7:if(!0!==N){t.next=9;break}return t.abrupt("return",!1);case 9:return C(!0),e.setLoader(!0),t.next=13,h.xj.post("Dimensions/save",K);case 13:if(!1===(r=t.sent)||!1===r.status){t.next=23;break}(a=e.currentAssesment).m_dictDimensions=JSON.parse(r.data.data.result),e.setCurrentAssesment(a),J(),E(!1),T(!0),t.next=30;break;case 23:if(j(r.data.data.result),G(!0),!(r.error&&r.error.response&&401===r.error.response.status&&localStorage.getItem("currentUser"))){t.next=30;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 30:C(!1),e.setLoader(!1);case 32:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){J()}),[M]),l.createElement(l.Fragment,null,l.createElement("div",{className:i().Ratingbandsdetails},l.createElement("p",null,"You can group questions into dimensions or categories. Scores will be rolled up and results can be displayed by dimensions, instead of by each question. This us helpful for more detailed assessments or quizzes."),l.createElement("br",null),l.createElement("div",{className:i().settingheaderbox},l.createElement("h3",null,"Dimensions"),l.createElement("div",{className:i().flexrightbutton},l.createElement("span",{className:i().btn_skyblue,onClick:function(){return Y(V),void E(!b)},"aria-controls":"example-collapse-text","aria-expanded":n},"Add Dimension"))),l.createElement("div",{className:i().ratingbandsdetailsinnerbody},l.createElement(m.Z,{in:b},l.createElement("div",{id:"example-collapse-text"},l.createElement("div",{className:i().mianboxratingbands},l.createElement("div",{className:i().mianboxheaderratingbands},l.createElement("h4",null,"Add Dimension")),l.createElement("div",{className:i().mianboxinnerbodyratingbands},l.createElement(v,{errors:d,formData:K,setFormData:Y,setOpen:E,handleAdd:Q,setLoader:e.setLoader}))))),l.createElement("div",{className:i().mianboxratingbands1},w&&w.map((function(t,n){return l.createElement("div",{key:n},l.createElement(O,{setCurrentAssesment:e.setCurrentAssesment,currentAssesment:e.currentAssesment,getAllDim:J,obj:t,formData:K,setFormData:Y,handleAdd:Q,setLoader:e.setLoader}))}))))),l.createElement(S.Z,{showtoast:L,toggleShowToast:function(){return T(!L)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:x.f8k}),l.createElement(S.Z,{showtoast:B,toggleShowToast:function(){return G(!B)},bgclass:"danger",status:"Error",message:z,toasticon:x.gPx}))}},6405:function(e,t,n){n.d(t,{Z:function(){return D}});var r=n(4942),a=n(5861),s=n(885),o=n(4687),l=n.n(o),c=n(7294),i=n(2236),m=n.n(i),u=n(2939),d=n(9041),p=n.n(d),g=n(5317),f=n(4051),b=n(1555),E=n(3314),v=n(5977),h=n(1468),S=n(5238),y=n(1305);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=(0,v.useParams)(),n=(0,c.useState)(!1),r=(0,s.Z)(n,2),o=r[0],i=r[1],u=(0,c.useState)({m_oMedia:{}}),d=(0,s.Z)(u,2),p=d[0],g=d[1],f={lAssessmentId:t.id,lRatingBandId:e.lRatingBandId,szRatingBandName:e.szRatingBandName,szRatingBandDesc:e.szRatingBandDesc,szRedirectURL:e.szRedirectURL,nStartPoints:e.nStartPoints,nEndPoints:e.nEndPoints,nStartPercent:e.nStartPercent,nEndPercent:e.nEndPercent},b=(0,c.useState)(f),x=(0,s.Z)(b,2),w=x[0],Z=x[1],k=function(){var t=(0,a.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==o){t.next=2;break}return t.abrupt("return",!1);case 2:return i(!0),e.setLoader(!0),t.next=6,h.xj.post("RatingBands/save",w);case 6:if(!1===(n=t.sent)||!1===n.status){t.next=22;break}e.getAllRatingBand(),e.setShowToast(!0),e.setOpen(!1),w.szRatingBandName="",w.nStartPercent="",w.nStartPoints="",w.nEndPercent="",w.nEndPoints="",w.szRatingBandDesc="",w.szRedirectURL="",e.setCurrentAssesment(P(P({},e.currentAssesment),{},{m_oRatingScalesGroup:JSON.parse(n.data.data.result)})),e.setSuccMessage("Updated Successfully!!"),t.next=29;break;case 22:if(n.hasOwnProperty("data")?e.setMessage(n.data.data.result):e.setMessage("Some error occured!!"),e.setShowToast1(!0),!(n.error&&n.error.response&&401===n.error.response.status&&localStorage.getItem("currentUser"))){t.next=29;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 29:i(!1),e.setLoader(!1);case 31:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){Object.keys(p.m_oMedia).length>0&&e.getAllRatingBand()}),[p]),c.createElement(c.Fragment,null,c.createElement(E.Z,null,c.createElement(E.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1"},c.createElement(E.Z.Label,null,"Name:"),c.createElement(E.Z.Control,{type:"text",placeholder:"Rating band name",value:w.szRatingBandName,onChange:function(e){Z(P(P({},w),{},{szRatingBandName:e.target.value}))}})),e.currentAssesment&&1!==e.currentAssesment.m_nAssessmentType&&c.createElement(c.Fragment,null,c.createElement(E.Z.Group,{className:m().mbTop},c.createElement(E.Z.Label,null,"If both percentage and points ranges are specified, then percentage range will be used for scoring")),c.createElement(E.Z.Group,{className:m().formgroupratinglavel},c.createElement("div",{className:m().formgroupratinglavelone},c.createElement("div",{className:m().inlineformfileds},c.createElement(E.Z.Label,null,"% greater than:"),c.createElement(E.Z.Control,{type:"text",placeholder:"80",value:w.nStartPercent,onChange:function(e){Z(P(P({},w),{},{nStartPercent:e.target.value}))}})),c.createElement("div",{className:m().inlineformfileds},c.createElement(E.Z.Label,null,"% less than or equal to:"),c.createElement(E.Z.Control,{type:"text",placeholder:"3",value:w.nEndPercent,onChange:function(e){Z(P(P({},w),{},{nEndPercent:e.target.value}))}}))),c.createElement("div",{className:m().formgroupratinglavelone},c.createElement("div",{className:m().inlineformfileds},c.createElement(E.Z.Label,null,"Points greater than:"),c.createElement(E.Z.Control,{type:"text",placeholder:"4",value:w.nStartPoints,onChange:function(e){Z(P(P({},w),{},{nStartPoints:e.target.value}))}})),c.createElement("div",{className:m().inlineformfileds},c.createElement(E.Z.Label,null,"Points less than or equal to:"),c.createElement(E.Z.Control,{type:"text",placeholder:"2",value:w.nEndPoints,onChange:function(e){Z(P(P({},w),{},{nEndPoints:e.target.value}))}}))))),c.createElement(E.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlRedirectURL"},c.createElement(E.Z.Label,null,"External Redirect URL (optional):"),c.createElement(E.Z.Control,{type:"text",placeholder:"External Redirect URL",value:w.szRedirectURL,onChange:function(e){Z(P(P({},w),{},{szRedirectURL:e.target.value}))}})),c.createElement(E.Z.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},c.createElement(E.Z.Label,null,"Description"),c.createElement(S.Z,{datas:void 0!==e.szRatingBandDesc?e.szRatingBandDesc+"":"",classes:"dimDescription",formData:w,handleTextData:function(e){var t=P({},w);t.szRatingBandDesc=e.toString(),t&&""!==t.assessmentType&&Z(t)}})),c.createElement(E.Z.Group,{className:m().rating_imageuploaderbox},"1"===e.type&&c.createElement(y.Z,{className:m().rating_imageuploader,nPurpose:5,lPurposeId:w&&w.lRatingBandId,setCurrentObject:g,setCurrentData:p,handleImageUpdate:e.handleImageUpdate}),!1!==h.xj.awsBucketImage(e.row&&e.row.m_oMedia)&&c.createElement("img",{src:h.xj.awsBucketImage(e.row&&e.row.m_oMedia),alt:w.szRatingBandName})),c.createElement("span",{onClick:k,className:m().btn_skyblue1},"Save"),c.createElement("span",{onClick:function(){return e.setOpen(!1)},className:m().btn_cancel},"Cancel")))},Z=n(6687),k=n(7625),_=n(1436),N=n(4320),C=function(e){var t=(0,c.useState)(!1),n=(0,s.Z)(t,2),r=n[0],o=n[1],i=(0,c.useState)(!1),u=(0,s.Z)(i,2),d=u[0],E=u[1],S=(0,c.useState)(!1),y=(0,s.Z)(S,2),x=y[0],P=y[1],C=(0,c.useState)(!1),O=(0,s.Z)(C,2),I=O[0],D=O[1],z=(0,c.useState)(!1),j=(0,s.Z)(z,2),A=j[0],R=j[1],L=(0,v.useParams)(),T=(0,c.useState)(""),F=(0,s.Z)(T,2),U=F[0],B=F[1],G=(0,c.useState)("Deleted Successfully!!"),M=(0,s.Z)(G,2),V=M[0],q=M[1],H=(0,c.useState)(!1),K=(0,s.Z)(H,2),Y=K[0],J=K[1],Q=function(){var t=(0,a.Z)(l().mark((function t(){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==A){t.next=2;break}return t.abrupt("return");case 2:return R(!0),e.setLoader(!0),t.next=6,h.xj.post("RatingBands/remove",{lAssessmentId:L.id,lRatingBandId:e.row.m_lRatingScaleId,szRatingBandName:"string",szRatingBandDesc:"string",nStartPoints:0,nEndPoints:0,nStartPercent:0,nEndPercent:0});case 6:!1!==(n=t.sent)&&!1!==n.status?P(!0):(B(n.error.response.result),D(!0)),R(!1),e.setLoader(!1),J(!1),e.getAllRatingBand();case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.createElement(c.Fragment,null,c.createElement(Z.Z,{showtoast:x,toggleShowToast:function(){return P(!x)},bgclass:"success",status:"Success",message:V,toasticon:_.f8k}),c.createElement(Z.Z,{showtoast:I,toggleShowToast:function(){return D(!I)},bgclass:"danger",status:"Error",message:U,toasticon:_.gPx}),c.createElement("div",{className:m().mianboxratingbands},c.createElement("div",{className:m().mianboxheaderratingbands},c.createElement("div",{className:m().mianboxheaderratingbandsheading},c.createElement("h4",null,e.row.m_szRatingScaleName),e.currentAssesment&&1!==e.currentAssesment.m_nAssessmentType&&c.createElement("p",null,"(From ",e.row.m_nStartPercent,"% To ",e.row.m_nEndPercent,"%)"),c.createElement("p",null,"Redirect to (optional): ",e.row.m_szRedirectURL&&e.row.m_szRedirectURL.length>0?e.row.m_szRedirectURL:"Not Applicable")),c.createElement("div",{className:m().rightsideeditremove},c.createElement("span",{onClick:function(){o(!r),E(!1)},className:m().btn_edit},c.createElement(k.G,{icon:_.Xcf,size:"sm"})),c.createElement("span",{className:m().btn_redborder,onClick:function(){J(!0)}},c.createElement(k.G,{icon:_.$aW,size:"sm"})),c.createElement("span",{onClick:function(){E(!d),o(!1)},className:m().btn_accord},c.createElement(k.G,{icon:_.ptq,size:"sm",className:!0===d?"rotate":"norotate"})))),d&&c.createElement(f.Z,null,c.createElement(b.Z,{className:"justify-content-md-center text-center"},c.createElement("div",{className:p().contantforresult},c.createElement(g.Z,{band:e.row})))),r&&c.createElement("div",{className:m().mianboxratingbands},c.createElement("div",{className:m().mianboxheaderratingbands},c.createElement("h4",null,"Edit Rating Band")),c.createElement("div",{className:m().mianboxinnerbodyratingbands},c.createElement(w,{getAllRatingBand:e.getAllRatingBand,setOpen:o,setShowToast:P,setShowToast1:D,lRatingBandId:e.row.m_lRatingScaleId,szRatingBandName:e.row.m_szRatingScaleName,szRatingBandDesc:e.row.m_szRatingScaleDesc,szRedirectURL:e.row.m_szRedirectURL,nStartPoints:e.row.m_nStartPoints,nEndPoints:e.row.m_nEndPoints,nStartPercent:e.row.m_nStartPercent,nEndPercent:e.row.m_nEndPercent,setLoader:e.setLoader,row:e.row,type:"1",setSuccMessage:q,currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment,handleImageUpdate:e.handleImageUpdate})))),c.createElement(N.Z,{show:Y,handleClose:function(){return J(!1)},handleAction:Q,data:"0"}))};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t=(0,c.useState)(!1),n=(0,s.Z)(t,2),o=n[0],i=n[1],d=(0,c.useState)({}),p=(0,s.Z)(d,2),g=p[0],f=p[1],b=(0,v.useParams)(),E=(0,c.useState)(!1),h=(0,s.Z)(E,2),S=h[0],y=h[1],x=(0,c.useState)("Some error occurs!"),P=(0,s.Z)(x,2),N=P[0],O=P[1],D=(0,c.useState)(!1),z=(0,s.Z)(D,2),j=z[0],A=z[1],R=(0,c.useState)("Updated Successfully!!"),L=(0,s.Z)(R,2),T=L[0],F=L[1],U=function(){var t=(0,a.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setLoader(!0),void 0!==e.currentAssesment&&e.currentAssesment.m_oRatingScalesGroup&&f(e.currentAssesment&&e.currentAssesment.m_oRatingScalesGroup.m_dictRatingScales),e.setLoader(!1);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(t,n){console.log("updated image: ",t,n);var a=e.currentAssesment,s=a.m_oRatingScalesGroup.m_dictRatingScales,o=Object.values(s).findIndex((function(e){return e.m_lRatingScaleId===t}));console.log("index",o);var l=I(I({},s[o+=1]),{},{m_oMedia:n});console.log("updated band",l);var c=I(I({},s),{},(0,r.Z)({},o,l));a.m_oRatingScalesGroup.m_dictRatingScales=c,console.log("new scales in assessment",c),e.setCurrentAssesment(a),U()};return(0,c.useEffect)((function(){U()}),[b,U]),c.createElement(c.Fragment,null,c.createElement("div",{className:m().Ratingbandsdetails},c.createElement("div",{className:m().settingheaderbox},c.createElement("h3",null,"Rating Bands & Scoring Details")),c.createElement("div",{className:m().ratingbandsdetailsinnerbody},c.createElement("div",{className:m().headerdflexnewbands},c.createElement("h3",null,"Your respondents can be shown a custom result or rating based on their total score. Specify those rating bands here."),c.createElement("span",{className:m().btn_skyblue,onClick:function(){return i(!o)},"aria-controls":"example-collapse-text","aria-expanded":o},c.createElement(k.G,{className:"me-2",icon:_.r8p,size:"sm"}),"Add New Bands")),c.createElement(u.Z,{in:o},c.createElement("div",{id:"example-collapse-text"},c.createElement("div",{className:m().mianboxratingbands},c.createElement("div",{className:m().mianboxheaderratingbands},c.createElement("h4",null,"Add Rating Band")),c.createElement("div",{className:m().mianboxinnerbodyratingbands},c.createElement(w,{setLoader:e.setLoader,getAllRatingBand:U,setOpen:i,setShowToast:y,setShowToast1:A,setMessage:O,setSuccMessage:F,currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment}))))),g&&Object.keys(g).map((function(t,n){return c.createElement("div",{key:n},0===g[t].m_nIsScoringBand&&c.createElement(C,{currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment,setLoader:e.setLoader,key:n,row:g[t],getAllRatingBand:U,handleImageUpdate:B}))}))),c.createElement(Z.Z,{showtoast:S,toggleShowToast:function(){return y(!S)},bgclass:"success",status:"Success",message:T,toasticon:_.f8k}),c.createElement(Z.Z,{showtoast:j,toggleShowToast:function(){return y(!j)},bgclass:"danger",status:"Error",message:N,toasticon:_.gPx})))}},9345:function(e,t,n){n.r(t),n.d(t,{default:function(){return ne}});var r=n(885),a=n(7294),s=n(2236),o=n.n(s),l=n(682),c=n(3493),i=n(7905),m=(n(6405),n(4942)),u=n(5861),d=n(4687),p=n.n(d),g=n(4051),f=n(1555),b=n(3314),E=n(1468),v=n(5977),h=n(6687),S=n(1436);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=(0,a.useState)(!0),n=(0,r.Z)(t,1)[0],s=(0,a.useState)({}),l=(0,r.Z)(s,2),c=l[0],i=l[1],d=(0,a.useState)({}),y=(0,r.Z)(d,2),P=y[0],w=y[1],Z=(0,a.useState)(!1),k=(0,r.Z)(Z,2),_=k[0],N=k[1],C=(0,a.useState)("Some error occurs!"),O=(0,r.Z)(C,2),I=O[0],D=O[1],z=(0,a.useState)(!1),j=(0,r.Z)(z,2),A=j[0],R=j[1],L=(0,a.useState)(!1),T=(0,r.Z)(L,2),F=T[0],U=T[1],B=(0,v.useParams)(),G=(0,a.useCallback)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i(e.currentAssesment.m_dictEvalOptionMeta),w(e.currentAssesment.m_dictUserOptions);case 2:case"end":return t.stop()}}),t)}))),[B]);(0,a.useEffect)((function(){G()}),[B,G]);var M=function(){var t=(0,u.Z)(p().mark((function t(n,r){var a,s;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==_){t.next=2;break}return t.abrupt("return",!1);case 2:return N(!0),e.setLoader(!0),e.setCurrentAssesment(x(x({},e.currentAssesment),{},{m_nPublishStatus:3})),t.next=7,E.xj.post("Settings/saveOptionSettings",{lAssessmentId:B.id,dictOptions:(0,m.Z)({},n,r)});case 7:if(!1===(a=t.sent)||!1===a.status){t.next=16;break}(s=x({},e.currentAssesment)).m_dictUserOptions[n]=parseInt(r),E.xj.setOptions(s.m_dictUserOptions),e.setCurrentAssesment(s),R(!0),t.next=23;break;case 16:if(D(a.data.data.result),U(!0),!(a.error&&a.error.response&&401===a.error.response.status&&localStorage.getItem("currentUser"))){t.next=23;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 23:e.setLoader(!1),N(!1);case 25:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement("div",{className:o().Ratingbandsdetails},a.createElement("div",{className:o().settingheaderbox},a.createElement("h3",null,"Option Settings")),a.createElement("div",{className:o().settingbodyboxcontant},a.createElement("div",{className:o().bodyQuestionlist},a.createElement(g.Z,null,n?a.createElement(f.Z,{xs:12},c&&Object.keys(c).map((function(e,t){return a.createElement("div",{className:o().questionsbox,key:t},2===c[e].m_nSequenceNumber&&a.createElement(a.Fragment,null,a.createElement("h4",null,c[e].m_szEvalOptionName),a.createElement(b.Z,null,a.createElement("div",{key:"inlineradio",className:"mb-3"},c[e].m_dictEvalOptionValues&&Object.keys(c[e].m_dictEvalOptionValues).map((function(n,r){return a.createElement(b.Z.Check,{key:r,name:"options".concat(t),label:c[e].m_dictEvalOptionValues[n].m_szEvalOptionValueName,type:"radio",id:"inlineradio-".concat(t,"-").concat(r),className:o().spacegroups,value:c[e].m_dictEvalOptionValues[n].m_lEvalOptionValueId,onChange:function(t){M(c[e].m_lEvalOptionId,c[e].m_dictEvalOptionValues[n].m_lEvalOptionValueId)},checked:!(!P.hasOwnProperty(c[e].m_lEvalOptionId)||P[c[e].m_lEvalOptionId]!==c[e].m_dictEvalOptionValues[n].m_lEvalOptionValueId)})}))))))}))):a.createElement(f.Z,null,a.createElement("div",{className:o().questionsboxbg},a.createElement("h4",null,"Show author profile on landing page"),a.createElement("p",null,"Top of Page")),a.createElement("div",{className:o().questionsboxbg},a.createElement("h4",null,"Start page style"),a.createElement("p",null,"Full page display")),a.createElement("div",{className:o().questionsboxbg},a.createElement("h4",null,"Start page banner image style"),a.createElement("p",null,"Full page display"))))))),a.createElement(h.Z,{showtoast:A,toggleShowToast:function(){return R(!A)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:S.f8k}),a.createElement(h.Z,{showtoast:F,toggleShowToast:function(){return U(!F)},bgclass:"danger",status:"Error",message:I,toasticon:S.gPx}))},w=n(5005),Z=n(2939),k=n(7625);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=(0,a.useState)(!0),n=(0,r.Z)(t,1)[0],s=(0,a.useState)({}),l=(0,r.Z)(s,2),c=l[0],i=l[1],m=(0,a.useState)({}),d=(0,r.Z)(m,2),g=d[0],f=d[1],y=(0,a.useState)(""),x=(0,r.Z)(y,2),P=x[0],_=x[1],C=(0,a.useState)(0),O=(0,r.Z)(C,2),I=O[0],D=O[1],z=(0,a.useState)(!1),j=(0,r.Z)(z,2),A=j[0],R=j[1],L=(0,a.useState)(!1),T=(0,r.Z)(L,2),F=T[0],U=T[1],B=(0,a.useState)(!1),G=(0,r.Z)(B,2),M=G[0],V=G[1],q=(0,a.useState)("Some error occurs!"),H=(0,r.Z)(q,2),K=H[0],Y=H[1],J=(0,v.useParams)(),Q=(0,a.useCallback)((0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==e.currentAssesment&&e.currentAssesment.m_oRatingScalesGroup&&f(e.currentAssesment&&e.currentAssesment.m_oRatingScalesGroup.m_dictRatingScales);case 1:case"end":return t.stop()}}),t)}))));(0,a.useEffect)((function(){Q()}),[J,Q]);var W=function(){var t=(0,u.Z)(p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=E.xj.validateError({fPoints:P}),!(Object.keys(n).filter((function(e){return!0===n[e]})).length>0)){t.next=6;break}return i(n),t.abrupt("return");case 6:i({});case 7:if(!0!==A){t.next=9;break}return t.abrupt("return",!1);case 9:return R(!0),e.setLoader(!0),t.next=13,E.xj.post("ScoringPoints/save",{assessmentId:J.id,userId:0,lRatingBandId:I,szBandName:"dummy",fPoints:P});case 13:if(!1===(r=t.sent)||!1===r.status){t.next=23;break}_(""),U(!0),R(!1),Q(),e.setCurrentAssesment(N(N({},e.currentAssesment),{},{m_oRatingScalesGroup:JSON.parse(r.data.data.result)})),f(e.currentAssesment&&e.currentAssesment.m_oRatingScalesGroup.m_dictRatingScales),t.next=30;break;case 23:if(Y(r.data.data.result),V(!0),!(r.error&&r.error.response&&401===r.error.response.status&&localStorage.getItem("currentUser"))){t.next=30;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 30:e.setLoader(!1);case 31:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement("div",{className:o().Ratingbandsdetails},a.createElement("div",{className:o().ratingbandsdetailsinnerbody},a.createElement("div",{className:o().mianboxratingbands},a.createElement("div",{className:o().mianboxheaderratingbands},a.createElement("h4",null,"Points")),a.createElement("div",{className:o().mianboxinnerbodyratingbands},a.createElement("p",null,"Rather than typing in points for every question response, just specify them here and assign them to the response options as you create them. We have included some preset values below for your convenience. Edit them or add to them as you need to. e.g. if you need a negative score for some options.")),a.createElement("div",{className:o().pointsadd_main},a.createElement("h4",null,"Points"),a.createElement(b.Z,null,Object.keys(g).map((function(e,t){return a.createElement("div",{key:t},1===g[e].m_nIsScoringBand&&a.createElement(b.Z.Group,{key:t,className:o().formgrouppoints,controlId:"formBasicEmail"},a.createElement("label",null,"Score Point : ",g[e].m_sMappedPoints),a.createElement("span",{className:o().banneredit,onClick:function(){var t,n;t=g[e].m_sMappedPoints,n=g[e].m_lRatingScaleId,_(t),D(n)}},a.createElement(k.G,{icon:S.Xcf,size:"sm"}))))}))),a.createElement(Z.Z,{in:n},a.createElement("div",{id:"example-collapse-text"},a.createElement("div",{className:o().addclosepointsmain},a.createElement(b.Z,null,a.createElement(b.Z.Group,{className:o().formgrouppoints1,controlId:"formBasicEmail"},a.createElement(b.Z.Control,{type:"text",placeholder:"Enter Point",value:P,onChange:function(e){_(e.target.value)}}),c&&c.hasOwnProperty("fPoints")&&a.createElement("p",{className:"error errcont"},"Please fill required field!")),a.createElement(w.Z,{className:o().btn_skyblue,onClick:W},0===I?"Add New":"Update"),0!==I&&a.createElement(w.Z,{className:o().btn_cancel,onClick:function(){_(""),D(0)}}," ","Cancel"))))))))),a.createElement(h.Z,{showtoast:F,toggleShowToast:function(){return U(!F)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:S.f8k}),a.createElement(h.Z,{showtoast:M,toggleShowToast:function(){return V(!M)},bgclass:"danger",status:"Error",message:K,toasticon:S.gPx}))},O=(n(6104),n(5238)),I=n(1305);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t=(0,v.useParams)(),n=(0,a.useState)(!1),s=(0,r.Z)(n,2),l=s[0],c=s[1],i=(0,a.useState)(!1),m=(0,r.Z)(i,2),d=m[0],g=m[1],f=(0,a.useState)(!1),y=(0,r.Z)(f,2),x=y[0],P=y[1],w={assessmentId:t.id,userId:0,lPromotionId:e.data.m_lPromotionId,szPromotionPhrase:e.data.m_szPromoPhrase,szPromotionDesc:e.data.m_szPromotionDesc,szPromotionDescPre:e.data.m_szPromotionDescPre,szCallToActionURL:e.data.m_szCallToActionURL,szStartDate:e.data.m_dtPromoFrom,szEndDate:e.data.m_dtPromoTo},Z={lAssessmentId:t.id,dictCustomizations:{2:e.btnText}},k=(0,a.useState)(w),_=(0,r.Z)(k,2),N=_[0],C=_[1],D=(0,a.useState)(Z),j=(0,r.Z)(D,2),A=j[0],R=j[1],L=function(){var t=(0,u.Z)(p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==l){t.next=2;break}return t.abrupt("return",!1);case 2:return c(!0),e.setLoader(!0),t.next=6,E.xj.post("Promotions/saveAssessmentPromotion",N);case 6:return n=t.sent,t.next=9,E.xj.post("Settings/saveCustomizations",A);case 9:if(t.sent,!1===n||!1===n.status){t.next=18;break}g(!0),C(w),r=JSON.parse(n.data.data.result),console.log("saved promotion",r),e.handlePromotionSave(e.index,r),t.next=24;break;case 18:if(P(!0),!(n.error&&n.error.response&&401===n.error.response.status&&localStorage.getItem("currentUser"))){t.next=24;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 24:e.setHideForm(!0),c(!1),e.setLoader(!1);case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,a.useEffect)((function(){if(0!==e.data.m_lPromotionId){var n={assessmentId:t.id,userId:0,lPromotionId:e.data.m_lPromotionId,szPromotionPhrase:e.data.m_szPromoPhrase,szPromotionDesc:e.data.m_szPromotionDesc,szPromotionDescPre:e.data.m_szPromotionDescPre,szCallToActionURL:e.data.m_szCallToActionURL,szStartDate:e.data.m_dtPromoFrom,szEndDate:e.data.m_dtPromoTo};C(n)}}),[e.data,t]),a.createElement(a.Fragment,null,a.createElement("div",{className:o().mianboxratingbands},a.createElement("div",{className:o().mianboxheaderratingbands},a.createElement("h4",null,"Edit Promotions")),a.createElement("div",{className:o().mianboxinnerbodyratingbands},a.createElement(b.Z,null,a.createElement(b.Z.Group,{className:"mb-3"},a.createElement(b.Z.Label,null,"Enter a brief phrase (2-3 words):"),a.createElement(b.Z.Control,{type:"text",value:N.szPromotionPhrase,onChange:function(e){C(z(z({},N),{},{szPromotionPhrase:e.target.value}))}})),0!==e.data.m_lPromotionId&&a.createElement(b.Z.Group,{className:"mb-3"},a.createElement("div",{className:o().optionimgupload},a.createElement(I.Z,{nPurpose:101,lPurposeId:e.data.m_lPromotionId,setCurrentObject:function(t){e.getAllPromotions()},setCurrentData:N}))),a.createElement(b.Z.Group,{className:"mb-3"},a.createElement(b.Z.Label,null,"What should be shown to users BEFORE starting the assessment?"),a.createElement(O.Z,{datas:void 0!==e.data.m_szPromotionDescPre&&!1!==e.data.m_szPromotionDescPre&&e.data.m_szPromotionDescPre+"",classes:"dimDescription",formData:N,handleTextData:function(e){var t=z({},N);t.szPromotionDescPre=e.toString(),t&&""!==t.assessmentType&&C(t)}})),a.createElement(b.Z.Group,{className:"mb-3"},a.createElement(b.Z.Label,null,"What should be shown to users AFTER they complete the assessment?"),a.createElement(O.Z,{datas:void 0!==e.data.m_szPromotionDesc&&!1!==e.data.m_szPromotionDesc&&e.data.m_szPromotionDesc+"",classes:"dimDescription",formData:N,handleTextData:function(e){var t=z({},N);t.szPromotionDesc=e.toString(),t&&""!==t.assessmentType&&C(t)}})),a.createElement(b.Z.Group,{className:"mb-3"},a.createElement(b.Z.Label,null,"Enter the URL for the call to action to redeem the offer:"),a.createElement(b.Z.Control,{type:"text",value:N.szCallToActionURL,onChange:function(e){C(z(z({},N),{},{szCallToActionURL:e.target.value}))}})),a.createElement(b.Z.Group,{className:"mb-2 mt-4",controlId:"exampleForm.ControlInput4"},a.createElement(b.Z.Label,null,"CTA Button Text:"),a.createElement(b.Z.Control,{type:"text",placeholder:"Enter Text",onChange:function(n){return function(n,r){z({},e.data);var a={lAssessmentId:t.id,dictCustomizations:{2:r}};e.setBtnText(r),R(a)}(0,n.target.value)},defaultValue:e.btnText})),a.createElement(b.Z.Group,{className:"mb-3"},a.createElement(b.Z.Label,null,"Start date of the offer (or leave blank to be active always)."),a.createElement(b.Z.Control,{type:"date",defaultValue:E.xj.convertDate(N&&N.szStartDate,1),onChange:function(e){C(z(z({},N),{},{szStartDate:e.target.value}))}})),a.createElement(b.Z.Group,{className:"mb-3"},a.createElement(b.Z.Label,null,"End date of the offer (or leave blank to be active always)."),a.createElement(b.Z.Control,{type:"date",defaultValue:E.xj.convertDate(N&&N.szEndDate,1),onChange:function(e){C(z(z({},N),{},{szEndDate:e.target.value}))}})),a.createElement("span",{onClick:L,className:o().btn_skyblue},0===e.data.lPromotionId?"Save":"Update"),"",0!==e.data.lPromotionId&&a.createElement("span",{onClick:function(){return e.setHideForm(!0)},className:o().btn_skyblue},"Cancel")))),a.createElement(h.Z,{showtoast:d,toggleShowToast:function(){return g(!d)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:S.f8k}),a.createElement(h.Z,{showtoast:x,toggleShowToast:function(){return P(!x)},bgclass:"danger",status:"Error",message:"Updation Failed!!",toasticon:S.gPx}))},A=function(e){var t=(0,v.useParams)(),n=(0,a.useState)([]),s=(0,r.Z)(n,2),l=s[0],m=s[1],d=(0,a.useState)(!0),b=(0,r.Z)(d,2),h=b[0],S=b[1],y=(0,E.iX)(e.currentAssesment,2),x=(0,E.iX)(e.currentAssesment,5),P=(0,a.useState)(E.xj.getCustomizeText(e.currentAssesment,2)),w=(0,r.Z)(P,2),Z=w[0],k=w[1],_=(0,a.useState)({m_lPromotionId:0,m_szPromoPhrase:"",m_szPromotionDesc:"",m_szPromotionDescPre:"",m_szCallToActionURL:"",m_dtPromoFrom:"",m_dtPromoTo:""}),N=(0,r.Z)(_,2),C=N[0],O=N[1],I=(0,a.useCallback)((0,u.Z)(p().mark((function n(){var r,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.xj.post("Promotions/getAssessmentPromotions",{assessmentId:t.id,userId:0});case 2:if(!1===(r=n.sent)||!1===r.status){n.next=7;break}200===r.data.data.statusCode&&(a=JSON.parse(r.data.data.result),console.log("listItem",a),0===a.length&&S(!1),m(a),e.currentAssesment.m_listPromotions=a),n.next=13;break;case 7:if(S(!1),!(r.error&&r.error.response&&401===r.error.response.status&&localStorage.getItem("currentUser"))){n.next=13;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",n.abrupt("return");case 13:case"end":return n.stop()}}),n)}))),[t]);return(0,a.useEffect)((function(){I()}),[t,I]),a.createElement(a.Fragment,null,a.createElement("div",{className:o().Ratingbandsdetails},l&&l.map((function(e,t){return a.createElement("div",{key:t},a.createElement("div",{className:o().settingheaderboxpromotion},a.createElement("h3",null,"Promotions ",a.createElement("span",{className:o().ratingbandurl}," ",e&&e.m_szCallToActionURL&&"("+e.m_szCallToActionURL+")")," "),a.createElement("div",{className:o().flexrightbutton},a.createElement("span",{className:o().btn_redborder},"Remove"),a.createElement("span",{className:o().btn_edit,onClick:function(){return e=l[t],O(e),void S(!1);var e}},"Edit"))),a.createElement("div",{className:o().settingbodyboxcontant},a.createElement("div",{className:o().bodyQuestionlist},a.createElement("div",{className:o().promotionpagedetails},a.createElement("div",{style:!1===h?{display:"none"}:{display:"block"},className:"promotionTabs"},a.createElement(g.Z,null,a.createElement(f.Z,{lg:7,className:o().promotione_left},a.createElement(c.Z,{defaultActiveKey:"landing",id:"uncontrolled-tab-example",className:"mb-3"},a.createElement(i.Z,{eventKey:"landing",title:"On Landing Page"},a.createElement("div",{className:o().promotionpagedetailsinner},a.createElement("div",{className:o().promotione_innercontant},a.createElement("h2",null,e.m_szPromoPhrase),a.createElement("div",{className:o().promotione_desc,dangerouslySetInnerHTML:{__html:e.m_szPromotionDescPre}})))),a.createElement(i.Z,{eventKey:"results",title:"On Results Page"},a.createElement("div",{className:o().promotionpagedetailsinner},a.createElement("div",{className:o().promotione_innercontant},a.createElement("h2",null,e.m_szPromoPhrase),a.createElement("div",{className:o().promotione_desc,dangerouslySetInnerHTML:{__html:e.m_szPromotionDesc}}),e&&e.m_szCallToActionURL&&""!==e.m_szCallToActionURL.trim()&&a.createElement("a",{href:e&&e.m_szCallToActionURL,className:o().btn_redeemhere,style:{background:y,color:x}},Z)))))),a.createElement(f.Z,{lg:5,className:o().promotione_right},E.xj.awsBucketImage(e&&e.m_oMedia)&&a.createElement("div",{className:o().promotione_innerimage},a.createElement("img",{src:E.xj.awsBucketImage(e&&e.m_oMedia),alt:"offer"})))))))))})),!1===h&&a.createElement(j,{setHideForm:S,data:C,currentAssesment:e.currentAssesment,getAllPromotions:I,handlePromotionSave:function(){var t=e.currentAssesment;t.m_nPublishStatus=3,t.m_oEvalCustomizations.m_dictEvalCustomizations[2]=Z,e.setCurrentAssesment(t),I()},btnText:Z,setBtnText:k,lPromotionId:0,setLoader:e.setLoader})))},R=n(1981);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){var t=(0,v.useParams)(),n=(0,a.useState)({}),s=(0,r.Z)(n,2),l=s[0],c=s[1],i=(0,a.useState)([]),m=(0,r.Z)(i,2),d=m[0],g=m[1],f=(0,a.useState)([]),b=(0,r.Z)(f,2),y=b[0],x=b[1],P=(0,a.useState)("Some error occurs!"),w=(0,r.Z)(P,2),Z=w[0],k=w[1],_=(0,a.useState)(!1),N=(0,r.Z)(_,2),C=N[0],O=N[1],I=(0,a.useState)(!1),D=(0,r.Z)(I,2),z=D[0],j=D[1],A={lAssessmentId:t.id,lUserId:0,dictColors1:{},dictColors:{}},L=(0,a.useState)(A),F=(0,r.Z)(L,2),U=F[0],B=F[1],G=(0,a.useState)(!1),M=(0,r.Z)(G,2),V=M[0],q=M[1],H=(0,a.useState)(!1),K=(0,r.Z)(H,2),Y=K[0],J=K[1],Q=function(){var t=(0,u.Z)(p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==e.currentAssesment&&((n=e.currentAssesment.m_oRatingScalesGroup?e.currentAssesment.m_oRatingScalesGroup.m_dictRatingScales:[])&&Object.keys(n).forEach((function(e){0===n[e].m_nIsScoringBand&&!1===Y&&J(!0)})),e.currentAssesment.m_oRatingScalesGroup&&c(e.currentAssesment.m_oRatingScalesGroup.m_dictRatingScales),(r=T({},U)).dictColors=e.currentAssesment.m_oColorScheme.m_dictColors,r.dictColors1=e.currentAssesment.m_oColorScheme.m_dictColors1,B(r));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var t=(0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:g(Object.values(e.currentAssesment.m_dictDimensions));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(){var t=(0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x(Object.values(e.currentAssesment.m_dictQuestions));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=(0,u.Z)(p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=T({},U)).dictColors=e.currentAssesment.m_oColorScheme.m_dictColors,n.dictColors1=e.currentAssesment.m_oColorScheme.m_dictColors1,B(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,a.useEffect)((function(){Q(),X(),W(),$()}),[t]);var ee=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";e.setCurrentAssesment(T(T({},e.currentAssesment),{},{m_nPublishStatus:3}));var a=T({},U);return"normal"===r?a.dictColors[n]=t:(!1===a.dictColors1.hasOwnProperty(r)&&(a.dictColors1[r]={}),a.dictColors1[r][n]=t),B(a),t},te=function(){var t=(0,u.Z)(p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==V){t.next=2;break}return t.abrupt("return",!1);case 2:return q(!0),e.setLoader(!0),t.next=6,E.xj.post("Colors/save",U);case 6:if(!1===(n=t.sent)||!1===n.status){t.next=12;break}O(!0),e.setCurrentAssesment(T(T({},e.currentAssesment),{},{m_oColorScheme:JSON.parse(n.data.data.result)})),t.next=19;break;case 12:if(k(n.data.data.result),j(!0),!(n.error&&n.error.response&&401===n.error.response.status&&localStorage.getItem("currentUser"))){t.next=19;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 19:q(!1),e.setLoader(!1);case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement("div",{className:o().colorsettingdetails},a.createElement("div",{className:o().colorheader},a.createElement("h3",null,"Color Setting"),a.createElement("button",{className:o().btn_skyblue,onClick:te},"Save Changes")),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Header Background Color :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,1),setSelectedColor:function(e){return ee(e,1)},colorPelletes:o().colorPellete1})),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Banner Header Text Color :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,3),setSelectedColor:function(e){return ee(e,3)},colorPelletes:o().colorPellete1})),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Banner Header Text Background Color :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,7),setSelectedColor:function(e){return ee(e,7)},colorPelletes:o().colorPellete1})),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Author Profile Section Background Color :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,8),setSelectedColor:function(e){return ee(e,8)},colorPelletes:o().colorPellete1})),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Button Background Color :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,2),setSelectedColor:function(e){return ee(e,2)},colorPelletes:o().colorPellete1})),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Buttons Text Color :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,5),setSelectedColor:function(e){return ee(e,5)},colorPelletes:o().colorPellete1})),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Other Headings Text Color :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,6),setSelectedColor:function(e){return ee(e,6)},colorPelletes:o().colorPellete1})),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Default Actual Ratings Color (used for Radar chart) :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,4),setSelectedColor:function(e){return ee(e,4)},colorPelletes:o().colorPellete1})),a.createElement("div",{className:o().colorboxes},a.createElement("p",null,"Default Average Ratings Color :"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,9),setSelectedColor:function(e){return ee(e,9)},colorPelletes:o().colorPellete1})),d&&d.length>0&&a.createElement("div",{className:o().colorinnerboxes},a.createElement("h5",null,"Colors Mapped To Dimensions"),d&&d.map((function(e,t){return a.createElement("div",{className:o().colorboxes,key:t},a.createElement("p",null,e.m_szDimensionName),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,e.m_lDimensionId,"3"),setSelectedColor:function(t){return ee(t,e.m_lDimensionId,3)},colorPelletes:o().colorPellete1}))}))),Y&&a.createElement("div",{className:o().colorinnerboxes},a.createElement("h5",null,"Colors Mapped To Rating Bands"),l&&Object.keys(l).map((function(e,t){return a.createElement("div",{key:t},0===l[e].m_nIsScoringBand&&a.createElement("div",{className:o().colorboxes},a.createElement("p",null,l[e].m_szRatingScaleName,":"),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,l[e].m_lRatingScaleId,"6"),setSelectedColor:function(t){return ee(t,l[e].m_lRatingScaleId,6)},colorPelletes:o().colorPellete1})))}))),y&&y.length>0&&a.createElement("div",{className:o().colorinnerboxes},a.createElement("h5",null,"Colors Mapped To Questions"),y&&y.map((function(e,t){return a.createElement("div",{className:o().colorboxes,key:t},a.createElement("p",null,e.m_szQuestionText),a.createElement(R.Z,{selectedColor:E.xj.getColors(U,e.m_lQuestionId,"4"),setSelectedColor:function(t){return ee(t,e.m_lQuestionId,4)},colorPelletes:o().colorPellete1}))}))),a.createElement(h.Z,{showtoast:C,toggleShowToast:function(){return O(!C)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:S.f8k}),a.createElement(h.Z,{showtoast:z,toggleShowToast:function(){return j(!z)},bgclass:"danger",status:"Error",message:Z,toasticon:S.gPx})))};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=(0,v.useParams)(),n=(0,a.useState)({szFieldName:"",szFieldVal:""}),s=(0,r.Z)(n,2),l=s[0],c=s[1],i=(0,a.useState)(!1),m=(0,r.Z)(i,2),d=m[0],g=m[1],f=(0,a.useState)("Some error occurs!"),y=(0,r.Z)(f,2),x=y[0],P=y[1],Z=(0,a.useState)(!1),k=(0,r.Z)(Z,2),_=k[0],N=k[1],C=(0,a.useState)({}),O=(0,r.Z)(C,1)[0],I=(0,a.useState)(!1),D=(0,r.Z)(I,2),z=D[0],j=D[1],A=function(){var n=(0,u.Z)(p().mark((function n(){var r,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==d){n.next=2;break}return n.abrupt("return",!1);case 2:return g(!0),e.setLoader(!0),r={assessmentId:t.id,userId:0,szFieldName:l.szFieldName,listFieldValues:l.szFieldVal.split(",")},n.next=7,E.xj.post("ProfileFields/createField",r);case 7:if(!1===(a=n.sent)||!1===a.status){n.next=13;break}e.getFieldList(),N(!0),n.next=20;break;case 13:if(P(a.data.data.result),j(!0),!(a.error&&a.error.response&&401===a.error.response.status&&localStorage.getItem("currentUser"))){n.next=20;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",n.abrupt("return");case 20:g(!1),e.setLoader(!1);case 22:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement("div",{className:o().creatednewfields},a.createElement("h3",null,"Create a new profile field here"),a.createElement(b.Z,null,a.createElement(b.Z.Group,{className:o().cretaeprofilefields},a.createElement(b.Z.Control,{type:"text",placeholder:"Enter Profile Field Name",value:l.szFieldName,onChange:function(e){c(B(B({},l),{},{szFieldName:e.target.value}))}}),O&&O.hasOwnProperty("szFieldName")&&a.createElement("p",{className:"error errcont"},"Please fill required field!")),a.createElement(b.Z.Group,{className:o().cretaeprofilefields},a.createElement(b.Z.Control,{type:"text",placeholder:"Enter values separated by comma",value:l.szFieldVal,onChange:function(e){c(B(B({},l),{},{szFieldVal:e.target.value}))}}),O&&O.hasOwnProperty("szFieldVal")&&a.createElement("p",{className:"error errcont"},"Please fill required field!")),a.createElement(w.Z,{className:o().btn_skyblue,type:"button",onClick:A},"Save"))),a.createElement(h.Z,{showtoast:_,toggleShowToast:function(){return N(!_)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:S.f8k}),a.createElement(h.Z,{showtoast:z,toggleShowToast:function(){return j(!z)},bgclass:"danger",status:"Error",message:x,toasticon:S.gPx}))},M=function(e){var t=(0,a.useState)(0),n=(0,r.Z)(t,2),s=n[0],l=n[1],c=(0,a.useState)(""),i=(0,r.Z)(c,2),m=i[0],d=i[1],g=(0,a.useState)(!1),f=(0,r.Z)(g,2),y=f[0],x=f[1],P=(0,v.useParams)(),Z=(0,a.useState)(!1),_=(0,r.Z)(Z,2),N=_[0],C=_[1],O=(0,a.useState)("Updation Failed!!"),I=(0,r.Z)(O,2),D=I[0],z=I[1],j=(0,a.useState)(!1),A=(0,r.Z)(j,2),R=A[0],L=A[1],T=(0,a.useState)(!1),F=(0,r.Z)(T,2),U=F[0],B=F[1],G=function(){var t=(0,u.Z)(p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==m){t.next=4;break}return z("Please enter a value"),B(!0),t.abrupt("return");case 4:if(!0!==N){t.next=6;break}return t.abrupt("return",!1);case 6:return C(!0),e.setLoader(!0),t.next=10,E.xj.post("ProfileFields/addFieldValue",{assessmentId:P.id,userId:0,lFieldId:e.row.m_lQuestionId,lFieldValueId:s,szFieldValue:m});case 10:if(!1===(n=t.sent)||!1===n.status){t.next=18;break}d(""),l(0),e.getFieldList(),L(!0),t.next=25;break;case 18:if(z(n.data.data.result),B(!0),!(n.error&&n.error.response&&401===n.error.response.status&&localStorage.getItem("currentUser"))){t.next=25;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 25:C(!1),e.setLoader(!1);case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=(0,u.Z)(p().mark((function t(){var n,r,a=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:"unmapField",!0!==N){t.next=3;break}return t.abrupt("return",!1);case 3:return C(!0),e.setLoader(!0),t.next=7,E.xj.post("ProfileFields/"+n,{assessmentId:P.id,userId:0,lFieldId:e.row.m_lQuestionId});case 7:if(!1===(r=t.sent)||!1===r.status){t.next=13;break}L(!0),e.getFieldList(),t.next=20;break;case 13:if(z(r.data.data.result),B(!0),!(r.error&&r.error.response&&401===r.error.response.status&&localStorage.getItem("currentUser"))){t.next=20;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",t.abrupt("return");case 20:C(!1),e.setLoader(!1);case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.createElement(a.Fragment,null,a.createElement("div",{className:o().profileListBox},a.createElement("div",{className:o().questionsboxbg1},a.createElement("div",null,a.createElement("h4",null,e.row.m_szQuestionText),a.createElement("p",null,"(",e.row.m_listResponseOptions.length," values)")),a.createElement("div",null,e.row&&!1===e.row.m_bIsMapProfileField?a.createElement("span",{className:o().mapItem,onClick:function(){M("mapField")}},a.createElement(k.G,{icon:S.nNP,size:"sm"})," Map"):a.createElement("span",{className:o().mapItem1,onClick:function(){M("unmapField")}},a.createElement(k.G,{icon:S.AE2,size:"sm"})," Unmap"),a.createElement("span",{onClick:function(){x(!y)},className:o().btn_accord},a.createElement(k.G,{icon:S.ptq,size:"sm",className:!0===y?"rotate":"norotate"})))),y&&a.createElement("div",{className:o().optionItemList},a.createElement("div",{className:o().valueslisting},a.createElement(b.Z.Control,{type:"text",placeholder:"Enter a new value",value:m,onChange:function(e){return d(e.target.value)}}),a.createElement(w.Z,{onClick:G,className:o().btn_skyblue}," ",0===s?"Add New Value":"Update Value"," ")),a.createElement("ul",null,e.row.m_listResponseOptions&&e.row.m_listResponseOptions.map((function(e,t){return a.createElement("li",{key:t},a.createElement("label",null,e.m_szResponseText),a.createElement("div",null,a.createElement("span",{className:o().banneredit,onClick:function(){l(e.m_lResponseId),d(e.m_szResponseText)}},a.createElement(k.G,{icon:S.Xcf,size:"sm"})),a.createElement("span",{className:o().bannerremove},a.createElement(k.G,{icon:S.$aW,size:"sm"}))))}))))),a.createElement(h.Z,{showtoast:R,toggleShowToast:function(){return L(!R)},bgclass:"success",status:"Success",message:"Updated Successfully!!",toasticon:S.f8k}),a.createElement(h.Z,{showtoast:U,toggleShowToast:function(){return B(!U)},bgclass:"danger",status:"Error",message:D,toasticon:S.gPx}))},V=function(e){var t=(0,a.useState)([]),n=(0,r.Z)(t,2),s=n[0],l=n[1],c=(0,v.useParams)(),i=(0,a.useCallback)((0,u.Z)(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.xj.post("ProfileFields/getProfileFields",{assessmentId:c.id,userId:0});case 2:if(!1===(t=e.sent)||!1===t.status){e.next=8;break}n=JSON.parse(t.data.data.result),l(n.m_listMappedProfileFields),e.next=13;break;case 8:if(!(t.error&&t.error.response&&401===t.error.response.status&&localStorage.getItem("currentUser"))){e.next=13;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",e.abrupt("return");case 13:case"end":return e.stop()}}),e)}))),[c]);return(0,a.useEffect)((function(){i()}),[c,i]),a.createElement(a.Fragment,null,a.createElement("div",{className:o().Ratingbandsdetails},a.createElement("div",{className:o().settingheaderbox},a.createElement("h3",null,"Profile Fields"),a.createElement("div",{className:o().flexrightbutton})),a.createElement("div",{className:o().settingbodyboxcontant},a.createElement("div",{className:o().bodyQuestionlist},a.createElement(g.Z,null,a.createElement(f.Z,null,s&&s.map((function(t,n){return a.createElement(M,{row:t,key:n,getFieldList:i,setLoader:e.setLoader})})))))),a.createElement("div",{className:o().manageprofilefields},a.createElement(G,{getFieldList:i,setLoader:e.setLoader}))))},q=n(4012),H=function(e){var t=e.obj,n=e.params,r=e.styles,s=e.constantImg,o=Object.keys(t.listProviderSettings).filter((function(e){return 10===e.m_nConfigKeyId})),l=function(){window.confirm("Are you sure you want to reset the connection?")&&window.open("https://authz.constantcontact.com/oauth2/default/v1/authorize?client_id=".concat(q.qU,"&redirect_uri=").concat(q.hV,"&response_type=code&scope=contact_data%20campaign_data%20offline_access&state=").concat(n.id))};return a.createElement("div",{className:r.providerMainDiv},a.createElement("div",{className:r.providersImgDiv},a.createElement("img",{width:"300px",src:s,alt:"constantImg"})),a.createElement("div",{className:r.ConstantDiv},a.createElement(a.Fragment,null,a.createElement("p",null,"Constant Contact is set as your provider!"),a.createElement("br",null)),""===o.m_szKeyValue?a.createElement(a.Fragment,null,a.createElement("p",null,"To configure Constant Contact, click the button below. You will be taken to Constant Contact. Please login and authorize Evalinator to send contact data."),a.createElement(w.Z,{className:"my-button-class",variant:"primary",onClick:l},"Connect")):a.createElement(a.Fragment,null,a.createElement("p",null,'You have previously authorized Constant Contact and NO action is needed. However, if your information has changed, then please click "Reset" below. You will be taken to Constant Contact. Please login and authorize Evalinator to send contact data.'),a.createElement(w.Z,{className:"my-button-class",variant:"primary",onClick:l},"Reset"))))},K=function(e){var t=e.obj,n=e.currentAssessment,r=e.params,s=e.styles,o=e.HubspotImg,l=(Object.keys(t.listProviderSettings).filter((function(e){return 60===e.m_nConfigKeyId})),function(){window.confirm("Are you sure you want to reset the connection?")&&window.open("https://app.hubspot.com/oauth/authorize?client_id=".concat(q.cQ,"&redirect_uri=").concat(q.Kn,"&scope=crm.objects.contacts.read%20crm.objects.contacts.write%20crm.lists.read%20crm.lists.write%20crm.schemas.contacts.write%20crm.schemas.contacts.read&state=").concat(r.id))});return a.createElement("div",{className:s.providerMainDiv},a.createElement("div",{className:s.providersImgDiv},a.createElement("img",{width:"300px",src:o,alt:"Hubspot Logo"})),a.createElement("div",{className:s.ConstantDiv},t&&!1===t.m_bIsConnected?a.createElement(a.Fragment,null,a.createElement("p",null,"To configure HubSpot, click the button below. You will be taken to HubSpot. Please login and authorize Evalinator to send contact data."),a.createElement("br",null),n&&a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement("b",null,"Important"),": Custom fields will be created for this assessment with this identifier appended: ",a.createElement("b",null,n.m_szSurveyDisplayIdentifier),"."),a.createElement("br",null),"1. evalinator_name_",n.m_szSurveyDisplayIdentifier,a.createElement("br",null),"2. evalinator_score_",n.m_szSurveyDisplayIdentifier,a.createElement("br",null),"3. evalinator_band_",n.m_szSurveyDisplayIdentifier,a.createElement("br",null),"4. evalinator_date_",n.m_szSurveyDisplayIdentifier,a.createElement("br",null),a.createElement("br",null),a.createElement("p",null,"These fields will contain the latest Evalinator quiz or assessment the contact has responsed to, their score and their assigned scoring band. ",a.createElement("br",null),a.createElement("br",null),"This will allow you to run automations in HubSpot based on this information. ",a.createElement("br",null),a.createElement("br",null),"e.g. send a custom email as soon as the quiz or assessment is complete, or add them to a specific nurturing flow based on their score. ")),a.createElement(w.Z,{className:"my-button-class",variant:"primary",onClick:l},"Connect HubSpot")):a.createElement(a.Fragment,null,a.createElement("br",null),a.createElement("p",null,"You have previously authorized HubSpot. NO action is needed."),a.createElement("br",null),n&&a.createElement(a.Fragment,null,a.createElement("p",null,a.createElement("b",null,"Important"),": Please verify that below custom fields have been created in Hubspot for this assessment with this identifier appended: ",a.createElement("b",null,n.m_szSurveyDisplayIdentifier),"."),a.createElement("br",null),"1. evalinator_name_",n.m_szSurveyDisplayIdentifier,a.createElement("br",null),"2. evalinator_score_",n.m_szSurveyDisplayIdentifier,a.createElement("br",null),"3. evalinator_band_",n.m_szSurveyDisplayIdentifier,a.createElement("br",null),"4. evalinator_date_",n.m_szSurveyDisplayIdentifier,a.createElement("br",null),a.createElement("br",null),a.createElement("p",null,"These fields will contain the latest Evalinator quiz or assessment the contact has responsed to, their score and their assigned scoring band.",a.createElement("br",null),a.createElement("br",null),"This will allow you to run automations in HubSpot based on this information.",a.createElement("br",null),a.createElement("br",null),"e.g. send a custom email as soon as the quiz or assessment is complete, or add them to a specific nurturing flow based on their score.")),a.createElement("p",null,a.createElement("br",null),'However, if your information has changed, then please click "Reset" below. You will be taken to HubSpot. Please login and authorize Evalinator to reset the connection and enable sending of respondent information.'),a.createElement(w.Z,{className:"my-button-class",variant:"primary",onClick:l},"Reset Connection"))))},Y=n(9656),J=n(4320),Q=n.p+"images/zapier.6ce8c274ed4a758cada7b9a919ed71e2.png",W=n.p+"images/mailerlitelogo.3d076320b8be1d5c507e3741f092f558.png",X=n.p+"images/Constant-contact-logo.dd8279bd1f34c151c52df16e4cb4e082.png",$=n.p+"images/hubspotlogo.5a7487b5b58b28c63e8c50e4c01cf7bf.jpg",ee=function(){return a.createElement("div",null,a.createElement("zapier-full-experience",{"client-id":"sbf7aN7lAlGXOPFzFO2WzG7uoaUVcGvfGYVmfGux",theme:"light","intro-copy-display":"hide","app-selection-display":"hide","zap-limit":"0","zap-create-from-scratch-display":"hide"}))},te=function(e){var t=(0,Y.UO)(),n=(0,a.useState)(!1),s=(0,r.Z)(n,2),l=s[0],c=s[1],i=(0,a.useState)({status:!1,id:0,name:""}),m=(0,r.Z)(i,2),d=m[0],g=m[1],f=(0,a.useState)(),b=(0,r.Z)(f,2),v=b[0],y=b[1],x=(0,a.useState)(!1),P=(0,r.Z)(x,2),Z=P[0],k=P[1],_=(0,a.useState)(""),N=(0,r.Z)(_,2),C=N[0],O=N[1],I=(0,a.useState)(!1),D=(0,r.Z)(I,2),z=D[0],j=D[1],A=(0,a.useState)(!1),R=(0,r.Z)(A,2),L=R[0],T=R[1],F=(0,a.useState)("Wrong Credentials"),U=(0,r.Z)(F,2),B=U[0],G=U[1],M=(0,a.useState)([]),V=(0,r.Z)(M,2),q=V[0],te=V[1],ne=(0,a.useState)(!1),re=(0,r.Z)(ne,2),ae=re[0],se=re[1],oe=function(){var e=(0,u.Z)(p().mark((function e(){var n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.xj.post("Provider/getProviderList",{lAssessmentId:t.id,userId:0});case 2:if(!1===(n=e.sent)||!1===n.status){e.next=8;break}r=JSON.parse(n.data.data.result),y(r),e.next=13;break;case 8:if(!(n.error&&n.error.response&&401===n.error.response.status&&localStorage.getItem("currentUser"))){e.next=13;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){oe()}),[t]);var le=function(){var e=(0,u.Z)(p().mark((function e(t,n,r,a){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:11!==r&&6!==r&&7!==r&&3!==r||(c(t),g({status:n,id:r,name:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ce=function(){var n=(0,u.Z)(p().mark((function n(){var r,a,s,o,l;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==Z){n.next=2;break}return n.abrupt("return");case 2:return k(!0),e.setLoader(!0),r={lAssessmentId:t.id,nToolType:1,nProviderId:d.id},a="Provider/mapProvider",!0===d.status&&11===d.id&&(a="Provider/generateZapierKey"),n.next=9,E.xj.post(a,r);case 9:if(!1===(s=n.sent)||!1===s.status){n.next=30;break}return n.next=13,E.xj.post("Provider/getProviderSettings",r);case 13:if(!1===(o=n.sent)||!1===o.status){n.next=21;break}l=JSON.parse(s.data.data.result),j(!0),O(l[0].m_szKeyValue),oe(),n.next=28;break;case 21:if(G(o.data.data.result),j(!0),!(s.error&&s.error.response&&401===s.error.response.status&&localStorage.getItem("currentUser"))){n.next=28;break}return localStorage.removeItem("currentUser"),localStorage.removeItem("token"),window.location="/login",n.abrupt("return");case 28:n.next=31;break;case 30:T(!0);case 31:k(!1),c(!1),e.setLoader(!1);case 34:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ie=function(){var n=(0,u.Z)(p().mark((function n(r,a,s){var o,l;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!0!==Z){n.next=2;break}return n.abrupt("return",!1);case 2:return k(!0),o={lAssessmentId:parseInt(t.id),nProviderId:r,dictSettings:{70:s}},e.setLoader(!0),n.next=7,E.xj.post("Provider/saveProviderSettings",o);case 7:!0===(l=n.sent).status?j(!0):(l.hasOwnProperty("data"),T(!0)),e.setLoader(!1);case 10:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}();return a.createElement("div",{className:o().providerList},v&&v.map((function(n,r){return!0===n.m_bIsMapped&&a.createElement("div",{className:o().connectedAccount},3===n.m_nProviderId&&a.createElement(H,{obj:n,params:t,styles:o(),constantImg:X}),6===n.m_nProviderId&&a.createElement(K,{obj:n,currentAssessment:e.currentAssesment,params:t,styles:o(),HubspotImg:$}),7===n.m_nProviderId&&a.createElement("div",{className:o().providerMainDiv},a.createElement("div",{className:o().providerImgDiv},a.createElement("img",{className:o().providerImg,src:W,alt:"MailerLiteImg"})),a.createElement("div",null,a.createElement("p",null,"MailerLite is set as your provider!"),a.createElement("br",null),a.createElement("p",{className:o().api_key},a.createElement("label",null,"Enter your API Key from MailerLite here:"," ")),a.createElement("br",null),a.createElement("input",{size:"40",onChange:function(e){return function(e){te(e.target.value)}(e)},defaultValue:n.listProviderSettings[0].m_szKeyValue,placeholder:"Enter your Api Key",className:o().inputApi_key,type:"text"}),a.createElement("br",null),a.createElement("br",null),a.createElement("b",null,"Important:")," Copy & create the following contact field in MailerLite under"," ",a.createElement("i",null,"Subscribers - Fields"),a.createElement("br",null),a.createElement("br",null),a.createElement("ol",null,a.createElement("li",null,"integration_source")),a.createElement("br",null),a.createElement("b",null,"Why?"),"When a contact is created or updated in MailerLite from this assessment in Evalinator, the ",a.createElement("i",null,"integration_source")," field will have the value"," ",a.createElement("i",null,"Evalinator - *your assessment name*"),". You can define automations based on this field. e.g. move subscriber to a new group to trigger an email sequence.",a.createElement("br",null),a.createElement("br",null),a.createElement(w.Z,{onClick:function(e){ie(n.m_nProviderId,n.listProviderSettings[0].m_nConfigKeyId,q)}},"Save"," "))),11===n.m_nProviderId?a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement(w.Z,{onClick:function(){return se(!ae)}},ae?"Close Zapier Settings":"Open Zapier Settings"),ae?a.createElement(ee,null):null),a.createElement("div",{className:o().providerMainDiv},a.createElement("div",{className:o().providerImgDiv},a.createElement("img",{className:o().providerImgDiv,src:Q,alt:"zapierImg"})),a.createElement("p",null,"Zapier has been set as your provider."),0===n.listProviderSettings.length||""==n.listProviderSettings[0].m_szKeyValue?a.createElement(a.Fragment,null,a.createElement("p",null,"Click the button below to generate a new key. You will use this key to set up your Zapier integration. Do NOT share this with anyone."),a.createElement(w.Z,{onClick:function(){return le(!0,n.m_bIsMapped,n.m_nProviderId,n.m_szProviderName)}},"Generate Zapier Key")):a.createElement("div",{className:o().zapierDiv},a.createElement("p",{className:o().api_key},a.createElement("label",null,"API Key (do NOT share this with anyone): "),a.createElement("br",null)," ",n.listProviderSettings[0].m_szKeyValue),a.createElement(w.Z,{onClick:function(){return le(!0,n.m_bIsMapped,n.m_nProviderId,n.m_szProviderName)}},"Reset Zapier Key"),a.createElement("p",{className:o().api_key},"Note: You will have to authenticate your zapier connection again."),""!==C&&a.createElement("p",{className:o().copyKey},"Copy Your Key : ",a.createElement("label",null,C))))):" ",a.createElement("br",null),a.createElement("hr",null))})),a.createElement("table",{style:{borderCollapse:"separate",borderSpacing:"0 50px"}},a.createElement("tbody",null,v&&v.map((function(e,t){return!1===e.m_bIsMapped&&a.createElement("tr",{key:t,style:{border:"1px solid black"}},a.createElement("td",{className:"col-sm-1"}),a.createElement("td",{className:"col-sm-4"},11===e.m_nProviderId&&a.createElement("img",{className:o().providerImgDiv,src:Q,alt:"zapierImg"}),7===e.m_nProviderId&&a.createElement("img",{className:o().providerImgDiv,src:W,alt:"MailerLiteImg"}),3===e.m_nProviderId&&a.createElement("img",{className:o().providerImgDiv,src:X,alt:"constantImg"}),6===e.m_nProviderId&&a.createElement("img",{className:o().providerImgDiv,src:$,alt:"Hubspot"})),a.createElement("td",{className:"col-sm-2"}),a.createElement("td",{className:"col-sm-2"},a.createElement(w.Z,{onClick:function(){return le(!0,e.m_bIsMapped,e.m_nProviderId,e.m_szProviderName)}},"Set As Provider")))})))),a.createElement(J.Z,{show:l,handleClose:function(){return c(!1)},handleAction:ce,data:"0"}),a.createElement(h.Z,{showtoast:z,toggleShowToast:function(){return j(!z)},bgclass:"success",status:"Success",message:"Your settings have been saved successfully.",toasticon:S.f8k}),a.createElement(h.Z,{showtoast:L,toggleShowToast:function(){return T(!L)},bgclass:"danger",status:"Error",message:B,toasticon:S.gPx}))},ne=function(e){var t=(0,a.useState)(0),n=(0,r.Z)(t,2),s=n[0],m=n[1];return a.createElement(a.Fragment,null,e.currentAssesment&&a.createElement("div",{className:o().Settingpagemain},a.createElement(l.Z,{className:o().Settingcontainer},a.createElement("div",{className:o().settingmiantabs},a.createElement(c.Z,{defaultActiveKey:"Options",id:"uncontrolled-tab-example",className:o().customnavbarUl,onSelect:function(e){m(e)}},a.createElement(i.Z,{eventKey:"Options",title:"Options"},a.createElement(P,{settingActiveTab:s,setLoader:e.setLoader,currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment})),e.currentAssesment&&1!==e.currentAssesment.m_nAssessmentType&&3!==e.currentAssesment.m_nAssessmentType&&a.createElement(i.Z,{eventKey:"Points",title:"Points"},"Points"===s&&a.createElement(C,{settingActiveTab:s,setLoader:e.setLoader,currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment})),a.createElement(i.Z,{eventKey:"Profilefileds",title:"Profile Fields"},a.createElement(V,{setLoader:e.setLoader,currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment})),a.createElement(i.Z,{eventKey:"Promotions",title:"Promotions"},a.createElement(A,{setLoader:e.setLoader,currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment})),a.createElement(i.Z,{eventKey:"Color",title:"Colors"},"Color"===s&&a.createElement(F,{settingActiveTab:s,loader:e.loader,setLoader:e.setLoader,currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment})),a.createElement(i.Z,{eventKey:"Integration",title:"Integrations"},a.createElement(te,{currentAssesment:e.currentAssesment,setCurrentAssesment:e.setCurrentAssesment,setLoader:e.setLoader})))))))}},1179:function(e,t,n){t.Z=n.p+"images/colorpikerbtn.ac77dbb848a94c8faf357db73151bc18.svg"}}]);